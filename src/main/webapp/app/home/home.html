<md-button class="md-fab md-fab-bottom-right" aria-label="Add" ng-click="showAdd($event)"
           style="position: fixed; bottom: 70px">
    <md-icon>add</md-icon>
</md-button>

<div>
    <div class="inset" hide-xs hide-sm></div>
    <div layout="row" layout-align="center begin" layout-fill>
        <md-input-container class="md-block search-input" flex-gt-sm="60" flex-xs="90" flex-sm="80">
            <label>Search for Code</label>
            <input ng-model="vm.query" ng-keypress="vm.inputKeyPressed($event)">
        </md-input-container>
        <md-button ng-click="vm.searchCode(vm.query)" class="md-icon-button" style="margin-top:15px;">
            <md-icon style="font-size:2em;">search</md-icon>
        </md-button>
    </div>
</div>

<md-content flex md-scroll-y layout="row" class="md-default-theme" layout-align="center center">
    <div flex-gt-sm="85" flex-xs="100" flex-sm="90" layout-fill>

        <div ng-if="!vm.noResults && vm.searchResult.results">
            <span class="md-subhead" style="padding-left:20px">About {{vm.searchResult.total}} results:</span>
            <md-card ng-repeat="result in vm.searchResult.results">
                <div layout="row" style="padding-right:10px">

                    <md-button class="md-primary" target="_blank" href="{{result.url}}">{{result.name}}</md-button>
                    <div  flex=""  layout="row" layout-align="end center">
                        <span><md-button target="_blank" href="{{result.repo}}" class="md-icon-button"><md-icon >code</md-icon></md-button></span>

                    </div>
                </div>

                <md-card-content style="padding:2px 10px">
                <pre class="prettyprint" ng-bind="result.linesString" style="padding:10px">

                </pre>
                </md-card-content>
                <md-card-footer style="padding:2px 10px 10px 10px">
                    <div layout="row" layout-align="space-between center">
                        <span class="md-caption language-tag"> {{result.language}}</span>
                        <span class="md-caption"> Location: {{result.location}}</span>
                    </div>
                </md-card-footer>
            </md-card>
        </div>

        <md-card ng-if="vm.noResults">
            <md-card-header>
                <md-card-header-text class="md-title">
                    No results
                </md-card-header-text>

            </md-card-header>
            <md-card-content>
                <p>Your search - <b>{{vm.query}}</b> - did not match any source codes. </p>
                <p>Suggestions: </p>
                <ul>
                    <li>Make sure that all words are spelled correctly</li>
                    <li>Try different keywords</li>
                    <li>Try more general keywords</li>
                    <li>Try fewer keywords</li>
                </ul>

            </md-card-content>

        </md-card>
    </div>
</md-content>
